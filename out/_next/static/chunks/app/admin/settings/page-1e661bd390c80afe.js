(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7122],{797:(e,t,s)=>{Promise.resolve().then(s.bind(s,956))},956:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(5155),l=s(2115);let r="settings_exchange_rate_toman_per_usd";function n(){let[e,t]=(0,l.useState)(""),[s,n]=(0,l.useState)(null),[c,i]=(0,l.useState)("");(0,l.useEffect)(()=>{let e=function(){try{let e=localStorage.getItem(r);if(!e)return 52e3;let t=Number(e);if(!isFinite(t)||t<=0)return 52e3;return t}catch(e){return console.error("❌ Error reading exchange rate from localStorage",e),52e3}}();n(e),t(e.toString())},[]);let o=e=>{let t=Number(e.replace(/,/g,""));return t?t.toLocaleString("fa-IR"):""};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-6 sm:p-8 lg:p-12",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-100",children:"تنظیمات قیمت‌گذاری"})}),(0,a.jsx)("div",{className:"glass-panel rounded-2xl p-6 sm:p-8 space-y-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-100 mb-2",children:"نرخ تبدیل دلار به تومان"}),(0,a.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:"این نرخ برای محاسبه قیمت تومانی پلن‌ها (مثلاً ۶۰ دلار) استفاده می‌شود."}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-end",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"مبلغ هر ۱ دلار (تومان)"}),(0,a.jsx)("input",{type:"text",inputMode:"numeric",value:e,onChange:e=>{t(o(e.target.value.replace(/[^\d]/g,"")))},className:"w-full px-3 py-2.5 rounded-lg bg-slate-900 border border-white/10 text-slate-100 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent",placeholder:"مثلاً ۵۰,۰۰۰"})]}),(0,a.jsx)("button",{onClick:()=>{let t=Number(e.replace(/,/g,""));if(!isFinite(t)||t<=0){i("لطفاً یک عدد معتبر وارد کنید");return}!function(e){if(!isFinite(e)||e<=0){console.error("❌ Invalid exchange rate value",e);return}try{localStorage.setItem(r,String(Math.round(e))),window.dispatchEvent(new CustomEvent("settingsUpdated",{detail:{key:"exchangeRate"}}))}catch(e){console.error("❌ Error saving exchange rate to localStorage",e)}}(t),n(t),i("نرخ با موفقیت ذخیره شد")},className:"px-6 py-2.5 rounded-lg bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-semibold hover:shadow-lg hover:shadow-cyan-500/25 transition-all",children:"ذخیره نرخ"})]}),null!==s&&(0,a.jsxs)("p",{className:"text-sm text-slate-400 mt-3",children:["نرخ فعلی:"," ",(0,a.jsxs)("span",{className:"font-semibold text-slate-100",children:[s.toLocaleString("fa-IR")," تومان"]})," ","برای هر ۱ دلار"]}),c&&(0,a.jsx)("p",{className:"text-sm mt-3 text-cyan-400",children:c})]})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1684,7358],()=>t(797)),_N_E=e.O()}]);