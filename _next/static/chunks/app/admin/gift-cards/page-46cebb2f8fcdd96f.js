(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9583],{9366:(e,t,s)=>{Promise.resolve().then(s.bind(s,9578))},9578:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(5155),l=s(2115),n=s(6874),o=s.n(n);let r=[{id:1,brand:"PlayStation",brandKey:"playstation",logo:"/brands/playstation.svg",subtitle:"گیفت کارت پلی استیشن",available:245,sold:1250,revenue:"۶۵,۰۰۰,۰۰۰",status:"active",showByDefault:!0},{id:2,brand:"Steam",brandKey:"steam",logo:"/brands/steam.svg",subtitle:"گیفت کارت استیم",available:180,sold:890,revenue:"۲۳,۱۴۰,۰۰۰",status:"active",showByDefault:!0},{id:3,brand:"Amazon",brandKey:"amazon",logo:"/brands/amazon.svg",subtitle:"خرید از آمازون",available:320,sold:2100,revenue:"۱۰۹,۲۰۰,۰۰۰",status:"active",showByDefault:!0},{id:4,brand:"Netflix",brandKey:"netflix",logo:"/brands/netflix.svg",subtitle:"اشتراک نتفلیکس",available:95,sold:450,revenue:"۳۵,۱۰۰,۰۰۰",status:"active",showByDefault:!0},{id:5,brand:"iTunes",brandKey:"itunes",logo:"/brands/itunes.svg",subtitle:"آیتونز و اپ استور",available:0,sold:320,revenue:"۱۶,۶۴۰,۰۰۰",status:"inactive",showByDefault:!0},{id:6,brand:"Fortnite",brandKey:"fortnite",logo:"/brands/fortnite.svg",subtitle:"وی‌باکس و آیتم",available:150,sold:680,revenue:"۲۸,۹۰۰,۰۰۰",status:"active",showByDefault:!0},{id:7,brand:"Google Play",brandKey:"google-play",logo:"/brands/googleplay.svg",subtitle:"گوگل پلی",available:200,sold:950,revenue:"۴۲,۷۵۰,۰۰۰",status:"active",showByDefault:!0},{id:8,brand:"Spotify",brandKey:"spotify",logo:"/brands/spotify.svg",subtitle:"اشتراک اسپاتیفای",available:120,sold:520,revenue:"۲۱,۸۴۰,۰۰۰",status:"active",showByDefault:!0},{id:9,brand:"فلیپ مانی",brandKey:"flow-money",logo:"/brands/flip-money.png",subtitle:"فلیپ مانی",available:100,sold:0,revenue:"۰",status:"active",showByDefault:!1}];function i(){let[e,t]=(0,l.useState)(""),[s,n]=(0,l.useState)([]),[i,d]=(0,l.useState)(!1),[c,u]=(0,l.useState)(null),[x,b]=(0,l.useState)({brand:"",brandKey:"",logo:"",subtitle:"",available:0,status:"active",showByDefault:!0});(0,l.useEffect)(()=>{let e=localStorage.getItem("admin_gift_cards"),t=[];if(console.log("\uD83D\uDD0D Loading gift cards from localStorage..."),e)try{let s=JSON.parse(e);Array.isArray(s)&&s.length>0&&(t=s,console.log("\uD83D\uDCCB Loaded ".concat(t.length," cards from localStorage")))}catch(e){console.error("❌ Error parsing admin_gift_cards:",e)}if(0===t.length){console.log("\uD83D\uDCE6 localStorage empty, using default cards"),t=r,localStorage.setItem("admin_gift_cards",JSON.stringify(r)),n(r);return}let s=t.some(e=>"flow-money"===e.brandKey);if(console.log("\uD83D\uDD0D Flip Money exists: ".concat(s)),!s){let e=r.find(e=>"flow-money"===e.brandKey);e?(t=[...t,e],localStorage.setItem("admin_gift_cards",JSON.stringify(t)),console.log("✅ Added Flip Money card to existing gift cards. Total cards:",t.length)):console.error("❌ Flip Money card not found in defaultGiftCards!")}console.log("✅ Final cards count: ".concat(t.length)),n(t)},[]);let m=e=>{n(e),localStorage.setItem("admin_gift_cards",JSON.stringify(e))},h=e=>{u(e),b({brand:e.brand,brandKey:e.brandKey,logo:e.logo,subtitle:e.subtitle,available:e.available,status:e.status,showByDefault:e.showByDefault}),d(!0)},g=e=>{confirm("آیا مطمئن هستید که می‌خواهید این گیفت کارت را حذف کنید؟")&&m(s.filter(t=>t.id!==e))},f=s.filter(t=>t.brand.toLowerCase().includes(e.toLowerCase()));return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-100 mb-2",children:"مدیریت گیفت کارت‌ها"}),(0,a.jsx)("p",{className:"text-slate-400",children:"مشاهده و مدیریت موجودی و قیمت گیفت کارت‌ها"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,a.jsx)(o(),{href:"/admin/gift-cards/pricing",className:"px-4 py-2.5 rounded-xl border border-cyan-500/60 text-cyan-300 text-sm font-medium hover:bg-cyan-500/10 transition-all",children:"تنظیم قیمت پلن‌ها"}),(0,a.jsx)("button",{onClick:()=>{confirm("آیا مطمئن هستید که می‌خواهید لیست گیفت کارت‌ها را به حالت پیش‌فرض بازنشانی کنید؟")&&(localStorage.setItem("admin_gift_cards",JSON.stringify(r)),n(r),console.log("✅ Reset to default gift cards"))},className:"px-4 py-2.5 rounded-xl border border-yellow-500/60 text-yellow-300 text-sm font-medium hover:bg-yellow-500/10 transition-all",children:"بازنشانی به پیش‌فرض"}),(0,a.jsx)("button",{onClick:()=>{u(null),b({brand:"",brandKey:"",logo:"",subtitle:"",available:0,status:"active",showByDefault:!0}),d(!0)},className:"px-6 py-2.5 bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-cyan-500/25 transition-all",children:"افزودن گیفت کارت"})]})]}),(0,a.jsx)("div",{className:"glass-panel rounded-2xl p-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("svg",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,a.jsx)("input",{type:"text",placeholder:"جستجو بر اساس نام برند...",value:e,onChange:e=>t(e.target.value),className:"w-full pr-10 pl-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-slate-200 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50"})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(e=>(0,a.jsxs)("div",{className:"glass-panel rounded-2xl p-6 hover:shadow-xl transition-all",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-xl bg-white/5 flex items-center justify-center border border-white/10 p-3",children:(0,a.jsx)("img",{src:e.logo,alt:e.brand,className:"w-full h-full object-contain"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-100 mb-1",children:e.brand}),(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat("active"===e.status?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:"active"===e.status?"فعال":"غیرفعال"})]})]})}),(0,a.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-slate-400",children:"موجودی:"}),(0,a.jsxs)("span",{className:"text-sm font-semibold ".concat(e.available>0?"text-green-400":"text-red-400"),children:[e.available," عدد"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-slate-400",children:"فروخته شده:"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-slate-200",children:[e.sold," عدد"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-slate-400",children:"درآمد:"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-slate-100",children:[e.revenue," تومان"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-white/10",children:[(0,a.jsx)("button",{onClick:()=>h(e),className:"flex-1 px-4 py-2 bg-white/5 text-slate-200 rounded-lg hover:bg-white/10 transition-colors text-sm font-medium",children:"ویرایش"}),(0,a.jsx)("button",{onClick:()=>g(e.id),className:"flex-1 px-4 py-2 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg hover:bg-red-500/30 transition-colors text-sm font-medium",children:"حذف"})]})]},e.id))}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:()=>d(!1)}),(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"glass-panel rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-slate-100",children:c?"ویرایش گیفت کارت":"افزودن گیفت کارت جدید"}),(0,a.jsx)("button",{onClick:()=>d(!1),className:"p-2 text-slate-400 hover:text-slate-200 hover:bg-white/10 rounded-lg transition-colors",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"نام برند *"}),(0,a.jsx)("input",{type:"text",value:x.brand,onChange:e=>b({...x,brand:e.target.value}),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-slate-200 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50",placeholder:"مثال: PlayStation"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"کلید برند (brandKey) *"}),(0,a.jsx)("input",{type:"text",value:x.brandKey,onChange:e=>b({...x,brandKey:e.target.value}),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-slate-200 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50",placeholder:"مثال: playstation (فقط حروف انگلیسی و خط تیره)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"زیرنویس *"}),(0,a.jsx)("input",{type:"text",value:x.subtitle,onChange:e=>b({...x,subtitle:e.target.value}),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-slate-200 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50",placeholder:"مثال: گیفت کارت پلی استیشن"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"آدرس لوگو"}),(0,a.jsx)("input",{type:"text",value:x.logo,onChange:e=>b({...x,logo:e.target.value}),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-slate-200 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50",placeholder:"مثال: /brands/playstation.svg"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"موجودی"}),(0,a.jsx)("input",{type:"number",value:x.available,onChange:e=>b({...x,available:parseInt(e.target.value)||0}),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-slate-200 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50",placeholder:"0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"وضعیت"}),(0,a.jsxs)("select",{value:x.status,onChange:e=>b({...x,status:e.target.value}),className:"w-full px-4 py-2.5 bg-white/5 border border-white/10 rounded-lg text-slate-200 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50",children:[(0,a.jsx)("option",{value:"active",children:"فعال"}),(0,a.jsx)("option",{value:"inactive",children:"غیرفعال"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.showByDefault,onChange:e=>b({...x,showByDefault:e.target.checked}),className:"w-5 h-5 rounded bg-white/5 border border-white/10 text-cyan-500 focus:ring-2 focus:ring-cyan-500/50"}),(0,a.jsx)("span",{className:"text-sm font-medium text-slate-300",children:"نمایش به صورت پیش‌فرض برای کاربران جدید"})]}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1 pr-8",children:"اگر غیرفعال باشد، فقط برای کاربرانی که دستی فعال کرده‌اید نمایش داده می‌شود"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-6 pt-6 border-t border-white/10",children:[(0,a.jsx)("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2.5 bg-white/5 text-slate-200 rounded-lg hover:bg-white/10 transition-colors font-medium",children:"انصراف"}),(0,a.jsx)("button",{onClick:()=>{if(!x.brand||!x.brandKey||!x.subtitle){alert("لطفا تمام فیلدهای ضروری را پر کنید");return}c?m(s.map(e=>e.id===c.id?{...c,...x}:e)):m([...s,{id:Date.now(),...x,sold:0,revenue:"۰"}]),d(!1),u(null)},className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-cyan-500 to-purple-600 text-white rounded-lg hover:shadow-lg hover:shadow-cyan-500/25 transition-all font-medium",children:c?"ذخیره تغییرات":"افزودن"})]})]})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,8441,1684,7358],()=>t(9366)),_N_E=e.O()}]);